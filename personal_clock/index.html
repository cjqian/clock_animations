<!DOCTYPE html>
<meta charset="utf-8">
<head>
	<style>
		body{
		}

		#bezel
		{
			position: absolute;
			top: 100px;
			left: 200px;
		}

		#canvas-1{
			position: absolute;
			top: 220px;
			left: 320px;
			height: 390px;
			width: 312px;
			background-color: black;
		}

	</style>

	<link rel="stylesheet" type="text/css" href="../jquery-ui.css"></style>
	<script type="text/javascript" src="../paper-full.js"></script>
	<script type="text/javascript" src="../jquery.js"></script>
	<script type="text/javascript" src="../jquery-ui.js"></script>



</head>

<body>


	<script type="text/paperscript" canvas="canvas-1">
// Initialization
var width = 312;
var height = 390;

var centerPosition = new paper.Point(width / 2, height / 2);
var spiralPath = new paper.Path(
{
	fillColor: 'white',
	strokeWidth: 100
});
spiralPath.strokeWidth = 100;
console.log(spiralPath.strokeWidth);

var initialInterval = 1000;
var interval = initialInterval;

//var count = getTimeAngle() / 5;
//var count = 20;	

/*
Angle: 1410, Length: 9.4, Addved Vector: { x: 105.55968, y: 97.06123 }
VM609:42 Angle: 1415, Length: 9.433333333333334, Addved Vector: { x: 114.12466, y: 93.06647 }
VM609:42 Angle: 1420, Length: 9.466666666666667, Addved Vector: { x: 123.03654, y: 89.822 }
VM609:65 New interval 1000
VM609:42 Angle: 1425, Length: 9.5, Addved Vector: { x: 132.22947, y: 87.35798 }
VM609:42 Angle: 1430, Length: 9.533333333333333, Addved Vector: { x: 141.63501, y: 85.69875 }
VM609:42 Angle: 1435, Length: 9.566666666666666, Addved Vector: { x: 151.18257, y: 84.86269 }
VM609:42 Angle: 1440, Length: 9.6, Addved Vector: { x: 160.8, y: 84.86193 }
VM609:42 Angle: 1445, Length: 9.633333333333333, Addved Vector: { x: 170.41411, y: 85.70229 }
VM609:42 Angle: 1450, Length: 9.666666666666666, Addved Vector: { x: 179.95121, y: 87.38316 }
*/

function getTimeAngle() {
	var now = new Date();

	var curSeconds = (now.getHours() * 3600) + (now.getMinutes() * 60) + (now.getSeconds());
	var totalSeconds = 43200; // Number of seconds in 12 hours
	var angleSeconds = curSeconds / totalSeconds;

	var angle = angleSeconds * 360;
	return angle;
}

var initialOffset = 0;
var beginOffset = Math.random() * 40;
var endOffset = beginOffset + 48 + (Math.random() * 200);
console.log("Begin offset: " + beginOffset + " End offset: " + endOffset);
var count = 288;
var currentPosition = new paper.Point(width / 2, height * 1 / 4);

function growSpiral() {
	if (count < 0) return;

	initialOffset++;
	count--;

	var angle = count * 5;
	var length = angle / 150;

	/*
	console.log("Angle: " + angle);
	console.log("Length: " + length);
	*/
	var vector = new paper.Point({
		angle: angle,
		length: length
	});

	vector.y = vector.y * -1;

	if (initialOffset > beginOffset && initialOffset < endOffset)
	{
	spiralPath.add(currentPosition  - vector);
	spiralPath.insert(0, currentPosition + vector);
	spiralPath.smooth();
	}

	currentPosition += vector;

	setTimeout(growSpiral, interval);
}

$(document).ready(function()
{  
	var initialValue = 1;
	$("#time-value").text(initialValue); 
	$("#time-slider").slider(
	{
		min:1,
		max:100000,
		value:initialValue,
		slide:function(event,ui) 
		{
			$("#time-value").text(ui.value);
			interval = initialInterval * (1 / ui.value);
			console.log("New interval " + interval);
		}
	});
});

// Main area
growSpiral();
</script>
Time multiplier: <span id="time-value"></span>
	<div id="time-adjustment"></div>
	<img id="bezel" src="../bezel.png">
	<canvas id="canvas-1"></canvas>


<div id="time-slider" style="width:200px"></div>
<p id="date-div"></p>
</body>

</html>